#!/usr/bin/env nu

def main [] {
	socat -u $"UNIX:/tmp/hypr/($env.HYPRLAND_INSTANCE_SIGNATURE)/.socket2.sock" - | lines -s | each {|line|
		let event = $line | parse "{type}>>{data}" | first

		if $event.type in [monitoradded monitorremoved] {
			echo $event
			notify-send foo bar
			bars
		}
	}
}
